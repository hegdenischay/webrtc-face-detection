<!doctype html>
<html lang="en">
  <head>
  	<title>Sidebar 07</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link href="https://fonts.googleapis.com/css?family=Poppins:300,400,500,600,700,800,900" rel="stylesheet">
		
		<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.3/css/bootstrap.min.css" integrity="sha384-Zug+QiDoJOrZ5t4lssLdxGhVrurbmBWopoEl+M6BdEfwnCJZtKxi1KgxUyJq13dy" crossorigin="anonymous">
  </head>
  <body>
  <div class="header">
    <nav class="navbar navbar-expand-sm bg-secondary navbar-dark">
      <div class="container">
        <a class="navbar-brand" href="/admin"><img style="width: 13rem; height: auto;" src="./edgeimpulse-logo-white.svg"></a>
        <button class="navbar-toggler collapsed" type="button" data-toggle="collapse" data-target="collapsibleNavbar" aria-expanded="false">
          <span class="navbar-toggler-icon"></span>
        </button>
        <nav class="my-2 my-md-0 mr-md-3">
        <a class="p-2 text-dark" href="/admin">Home</a>
        <a class="p-2 text-dark" href="/users">Users</a>
        <a class="p-2 text-dark" href="#">Preferences</a>
      </nav>

      </div>
    </nav>
  </div>		
		<!-- <div class="wrapper d-flex align-items-stretch">-->
		<!-- 	<nav id="sidebar" class="active">-->
		<!-- 		<h1><a href="index.html" class="logo">Home</a></h1>-->
        <!-- <ul class="list-unstyled components mb-5">-->
          <!-- <li class="active">-->
            <!-- <a href="/client_area"><span class="fa fa-home"></span> Home</a>-->
          <!-- </li>-->
          <!-- <li>-->
              <!-- <a href="/users"><span class="fa fa-user"></span> Users</a>-->
          <!-- </li>-->
          <!-- <li>-->
            <!-- <a href="/admin"><span class="fa fa-dashboard"></span> Dashboard</a>-->
          <!-- </li>-->
          <!-- <li>-->
            <!-- <a href="/preferences"><span class="fa fa-cogs"></span> Preferences</a>-->
          <!-- </li><!---->
          <!-- <li>-->
            <!-- <a href="#"><span class="fa fa-paper-plane"></span> </a>-->
          <!-- </li>-1->-->
        <!-- </ul>-->
    	<!-- </nav>-->

        <!-- Page Content  -->
      <div id="content" class="p-4 p-md-5">
        <form action="setPrefs" method="post">
        <table class="table">
          <thead>
            <tr>
              <th scope='col'>Preference</th>
              <th scope='col'>Value</th>
            </tr>
          </thead>
          <tr>
            <th>IDP Config</th>
            <th id="idpconfig"></th>
          </tr>
          <tr>
            <th>STUN Server</th>
            <th id="stun"></th>
          </tr>
          <tr>
            <th>TURN Server</th>
            <th id="turn_server"></th>
          </tr>
          <tr>
            <th>TURN Username</th>
            <th id="turn_username"></th>
          </tr>
          <tr>
            <th>TURN Password</th>
            <th id="turn_password"></th>
          </tr>
          </table>
          <input type="submit" value="Submit">
      </form>
      </div> 
  <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.3/js/bootstrap.min.js" integrity="sha384-a5N7Y/aK3qNeh15eJKGWxsqtnX/wWdSZSKp+81YjTmS15nvnvxKHuzaWwXHDli+4" crossorigin="anonymous"></script>
    <script>
    (function($) {

	"use strict";

	var fullHeight = function() {

		$('.js-fullheight').css('height', $(window).height());
		$(window).resize(function(){
			$('.js-fullheight').css('height', $(window).height());
		});

	};
	fullHeight();

	$('#sidebarCollapse').on('click', function () {
      $('#sidebar').toggleClass('active');
  });

})(jQuery);
    </script>
    <script>
      fetch('/get_prefs').then(response => response.json()).then(function(json){
              console.log(json); 
              document.getElementById('turn_server').innerHTML = "<input type='text' name='turn_server' value="+json['turn_server']+">";
              document.getElementById('idpconfig').innerText =json['idpconfig'];
              document.getElementById('turn_username').innerHTML = "<input type='text' name='turn_username' value="+json['turn_username']+">";
              document.getElementById('turn_password').innerHTML = "<input type='text' name='turn_password' value="+json['turn_password']+">";
              document.getElementById('stun').innerHTML = "<input type='text' name='stun_server' value="+json['stun_server']+">";
            });
    </script>
  </body>
</html>
